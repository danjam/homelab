---
# Docker Socket Proxy
# Security layer for Docker socket access
# Generated by Ansible - do not edit manually

networks:
  default:
    name: {{ docker_socket_proxy_network }}
    external: true

services:
  docker-socket-proxy:
    image: {{ docker_socket_proxy_image }}
    container_name: docker-socket-proxy
    restart: {{ container_restart_policy }}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    expose:
      - {{ docker_socket_proxy_port }}
    environment:
      # API permissions - set to 1 to enable, 0 to disable
      CONTAINERS: {{ docker_socket_proxy_containers }}
      IMAGES: {{ docker_socket_proxy_images }}
      INFO: {{ docker_socket_proxy_info }}
      NETWORKS: {{ docker_socket_proxy_networks }}
      SERVICES: {{ docker_socket_proxy_services }}
      TASKS: {{ docker_socket_proxy_tasks }}
      VOLUMES: {{ docker_socket_proxy_volumes }}
      EVENTS: {{ docker_socket_proxy_events }}
      AUTH: {{ docker_socket_proxy_auth }}
      SECRETS: {{ docker_socket_proxy_secrets }}
      POST: {{ docker_socket_proxy_post }}
      BUILD: {{ docker_socket_proxy_build }}
      COMMIT: {{ docker_socket_proxy_commit }}
      CONFIGS: {{ docker_socket_proxy_configs }}
      DISTRIBUTION: {{ docker_socket_proxy_distribution }}
      EXEC: {{ docker_socket_proxy_exec }}
      GRPC: {{ docker_socket_proxy_grpc }}
      NODES: {{ docker_socket_proxy_nodes }}
      PLUGINS: {{ docker_socket_proxy_plugins }}
      SESSION: {{ docker_socket_proxy_session }}
      SWARM: {{ docker_socket_proxy_swarm }}
      SYSTEM: {{ docker_socket_proxy_system }}
      VERSION: {{ docker_socket_proxy_version }}
    tmpfs:
      - /run
    labels:
      traefik.enable: false
